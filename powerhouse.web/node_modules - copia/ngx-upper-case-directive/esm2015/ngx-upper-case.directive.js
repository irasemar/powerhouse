/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
import { Directive, HostListener, Input, } from '@angular/core';
export class NgxUpperCaseDirective {
    /**
     * @param {?} el
     * @return {?}
     */
    getCaret(el) {
        return {
            start: el.selectionStart,
            end: el.selectionEnd,
        };
    }
    /**
     * @param {?} el
     * @param {?} start
     * @param {?} end
     * @return {?}
     */
    setCaret(el, start, end) {
        el.selectionStart = start;
        el.selectionEnd = end;
        el.focus();
    }
    /**
     * @param {?} el
     * @param {?} eventType
     * @return {?}
     */
    dispatchEvent(el, eventType) {
        const /** @type {?} */ event = document.createEvent('Event');
        event.initEvent(eventType, false, false);
        el.dispatchEvent(event);
    }
    /**
     * @param {?} el
     * @param {?} value
     * @return {?}
     */
    convertValue(el, value) {
        el.value = value.toUpperCase();
        this.dispatchEvent(el, 'input');
    }
    /**
     * @param {?} el
     * @param {?} value
     * @return {?}
     */
    onBlur(el, value) {
        if ((!this.upperCase || 'blur' === this.upperCase) && 'function' === typeof value.toUpperCase && value.toUpperCase() !== value) {
            this.convertValue(el, value);
            this.dispatchEvent(el, 'blur'); // in case updateOn is set to blur
        }
    }
    /**
     * @param {?} el
     * @param {?} value
     * @return {?}
     */
    onInput(el, value) {
        if (!this.upperCase && 'function' === typeof value.toUpperCase && value.toUpperCase() !== value) {
            let { start, end } = this.getCaret(el);
            if (value[0] === ' ' && start === 1 && end === 1) {
                start = 0;
                end = 0;
            }
            this.convertValue(el, value);
            this.setCaret(el, start, end);
        }
    }
}
NgxUpperCaseDirective.decorators = [
    { type: Directive, args: [{
                selector: 'input[upperCase]:not([lowerCase]),textarea[upperCase]:not([lowerCase])',
            },] },
];
/** @nocollapse */
NgxUpperCaseDirective.propDecorators = {
    "upperCase": [{ type: Input },],
    "onBlur": [{ type: HostListener, args: ['blur', ['$event.target', '$event.target.value'],] },],
    "onInput": [{ type: HostListener, args: ['input', ['$event.target', '$event.target.value'],] },],
};
function NgxUpperCaseDirective_tsickle_Closure_declarations() {
    /** @type {!Array<{type: !Function, args: (undefined|!Array<?>)}>} */
    NgxUpperCaseDirective.decorators;
    /**
     * @nocollapse
     * @type {function(): !Array<(null|{type: ?, decorators: (undefined|!Array<{type: !Function, args: (undefined|!Array<?>)}>)})>}
     */
    NgxUpperCaseDirective.ctorParameters;
    /** @type {!Object<string,!Array<{type: !Function, args: (undefined|!Array<?>)}>>} */
    NgxUpperCaseDirective.propDecorators;
    /** @type {?} */
    NgxUpperCaseDirective.prototype.upperCase;
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibmd4LXVwcGVyLWNhc2UuZGlyZWN0aXZlLmpzIiwic291cmNlUm9vdCI6Im5nOi8vbmd4LXVwcGVyLWNhc2UtZGlyZWN0aXZlLyIsInNvdXJjZXMiOlsibmd4LXVwcGVyLWNhc2UuZGlyZWN0aXZlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7QUFBQSxPQUFPLEVBQ0wsU0FBUyxFQUNULFlBQVksRUFDWixLQUFLLEdBQ04sTUFBTSxlQUFlLENBQUM7QUFLdkIsTUFBTTs7Ozs7SUFJSSxRQUFRLENBQUUsRUFBRTtRQUVsQixNQUFNLENBQUM7WUFDTCxLQUFLLEVBQUUsRUFBRSxDQUFDLGNBQWM7WUFDeEIsR0FBRyxFQUFFLEVBQUUsQ0FBQyxZQUFZO1NBQ3JCLENBQUM7Ozs7Ozs7O0lBSUksUUFBUSxDQUFFLEVBQUUsRUFBRSxLQUFLLEVBQUUsR0FBRztRQUU5QixFQUFFLENBQUMsY0FBYyxHQUFHLEtBQUssQ0FBQztRQUMxQixFQUFFLENBQUMsWUFBWSxHQUFHLEdBQUcsQ0FBQztRQUV0QixFQUFFLENBQUMsS0FBSyxFQUFFLENBQUM7Ozs7Ozs7SUFJTCxhQUFhLENBQUUsRUFBRSxFQUFFLFNBQVM7UUFFbEMsdUJBQU0sS0FBSyxHQUFHLFFBQVEsQ0FBQyxXQUFXLENBQUMsT0FBTyxDQUFDLENBQUM7UUFDNUMsS0FBSyxDQUFDLFNBQVMsQ0FBQyxTQUFTLEVBQUUsS0FBSyxFQUFFLEtBQUssQ0FBQyxDQUFDO1FBQ3pDLEVBQUUsQ0FBQyxhQUFhLENBQUMsS0FBSyxDQUFDLENBQUM7Ozs7Ozs7SUFJbEIsWUFBWSxDQUFFLEVBQUUsRUFBRSxLQUFLO1FBRTdCLEVBQUUsQ0FBQyxLQUFLLEdBQUcsS0FBSyxDQUFDLFdBQVcsRUFBRSxDQUFDO1FBRS9CLElBQUksQ0FBQyxhQUFhLENBQUMsRUFBRSxFQUFFLE9BQU8sQ0FBQyxDQUFDOzs7Ozs7O0lBS2xDLE1BQU0sQ0FBRSxFQUFPLEVBQUUsS0FBYTtRQUU1QixFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLFNBQVMsSUFBSSxNQUFNLEtBQUssSUFBSSxDQUFDLFNBQVMsQ0FBQyxJQUFJLFVBQVUsS0FBSyxPQUFPLEtBQUssQ0FBQyxXQUFXLElBQUksS0FBSyxDQUFDLFdBQVcsRUFBRSxLQUFLLEtBQUssQ0FBQyxDQUFDLENBQUM7WUFFL0gsSUFBSSxDQUFDLFlBQVksQ0FBQyxFQUFFLEVBQUUsS0FBSyxDQUFDLENBQUM7WUFDN0IsSUFBSSxDQUFDLGFBQWEsQ0FBQyxFQUFFLEVBQUUsTUFBTSxDQUFDLENBQUM7U0FFaEM7Ozs7Ozs7SUFLSCxPQUFPLENBQUUsRUFBTyxFQUFFLEtBQWE7UUFFN0IsRUFBRSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsU0FBUyxJQUFJLFVBQVUsS0FBSyxPQUFPLEtBQUssQ0FBQyxXQUFXLElBQUksS0FBSyxDQUFDLFdBQVcsRUFBRSxLQUFLLEtBQUssQ0FBQyxDQUFDLENBQUM7WUFFaEcsSUFBSSxFQUFFLEtBQUssRUFBRSxHQUFHLEVBQUUsR0FBRyxJQUFJLENBQUMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxDQUFDO1lBRXZDLEVBQUUsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsS0FBSyxHQUFHLElBQUksS0FBSyxLQUFLLENBQUMsSUFBSSxHQUFHLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQztnQkFFakQsS0FBSyxHQUFHLENBQUMsQ0FBQztnQkFDVixHQUFHLEdBQUcsQ0FBQyxDQUFDO2FBRVQ7WUFFRCxJQUFJLENBQUMsWUFBWSxDQUFDLEVBQUUsRUFBRSxLQUFLLENBQUMsQ0FBQztZQUU3QixJQUFJLENBQUMsUUFBUSxDQUFDLEVBQUUsRUFBRSxLQUFLLEVBQUUsR0FBRyxDQUFDLENBQUM7U0FFL0I7Ozs7WUF2RUosU0FBUyxTQUFDO2dCQUNULFFBQVEsRUFBRSx3RUFBd0U7YUFDbkY7Ozs7MEJBR0UsS0FBSzt1QkFvQ0wsWUFBWSxTQUFDLE1BQU0sRUFBRSxDQUFDLGVBQWUsRUFBRSxxQkFBcUIsQ0FBQzt3QkFZN0QsWUFBWSxTQUFDLE9BQU8sRUFBRSxDQUFDLGVBQWUsRUFBRSxxQkFBcUIsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIERpcmVjdGl2ZSxcbiAgSG9zdExpc3RlbmVyLFxuICBJbnB1dCxcbn0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5cbkBEaXJlY3RpdmUoe1xuICBzZWxlY3RvcjogJ2lucHV0W3VwcGVyQ2FzZV06bm90KFtsb3dlckNhc2VdKSx0ZXh0YXJlYVt1cHBlckNhc2VdOm5vdChbbG93ZXJDYXNlXSknLFxufSlcbmV4cG9ydCBjbGFzcyBOZ3hVcHBlckNhc2VEaXJlY3RpdmUge1xuXG4gIEBJbnB1dCgpIHVwcGVyQ2FzZTogc3RyaW5nO1xuXG4gIHByaXZhdGUgZ2V0Q2FyZXQgKGVsKSB7XG5cbiAgICByZXR1cm4ge1xuICAgICAgc3RhcnQ6IGVsLnNlbGVjdGlvblN0YXJ0LFxuICAgICAgZW5kOiBlbC5zZWxlY3Rpb25FbmQsXG4gICAgfTtcblxuICB9XG5cbiAgcHJpdmF0ZSBzZXRDYXJldCAoZWwsIHN0YXJ0LCBlbmQpIHtcblxuICAgIGVsLnNlbGVjdGlvblN0YXJ0ID0gc3RhcnQ7XG4gICAgZWwuc2VsZWN0aW9uRW5kID0gZW5kO1xuXG4gICAgZWwuZm9jdXMoKTtcblxuICB9XG5cbiAgcHJpdmF0ZSBkaXNwYXRjaEV2ZW50IChlbCwgZXZlbnRUeXBlKSB7XG5cbiAgICBjb25zdCBldmVudCA9IGRvY3VtZW50LmNyZWF0ZUV2ZW50KCdFdmVudCcpO1xuICAgIGV2ZW50LmluaXRFdmVudChldmVudFR5cGUsIGZhbHNlLCBmYWxzZSk7XG4gICAgZWwuZGlzcGF0Y2hFdmVudChldmVudCk7XG5cbiAgfVxuXG4gIHByaXZhdGUgY29udmVydFZhbHVlIChlbCwgdmFsdWUpIHtcblxuICAgIGVsLnZhbHVlID0gdmFsdWUudG9VcHBlckNhc2UoKTtcblxuICAgIHRoaXMuZGlzcGF0Y2hFdmVudChlbCwgJ2lucHV0Jyk7XG5cbiAgfVxuXG4gIEBIb3N0TGlzdGVuZXIoJ2JsdXInLCBbJyRldmVudC50YXJnZXQnLCAnJGV2ZW50LnRhcmdldC52YWx1ZSddKVxuICBvbkJsdXIgKGVsOiBhbnksIHZhbHVlOiBzdHJpbmcpOiB2b2lkIHtcblxuICAgIGlmICgoIXRoaXMudXBwZXJDYXNlIHx8ICdibHVyJyA9PT0gdGhpcy51cHBlckNhc2UpICYmICdmdW5jdGlvbicgPT09IHR5cGVvZiB2YWx1ZS50b1VwcGVyQ2FzZSAmJiB2YWx1ZS50b1VwcGVyQ2FzZSgpICE9PSB2YWx1ZSkge1xuXG4gICAgICB0aGlzLmNvbnZlcnRWYWx1ZShlbCwgdmFsdWUpO1xuICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KGVsLCAnYmx1cicpOyAvLyBpbiBjYXNlIHVwZGF0ZU9uIGlzIHNldCB0byBibHVyXG5cbiAgICB9XG5cbiAgfVxuXG4gIEBIb3N0TGlzdGVuZXIoJ2lucHV0JywgWyckZXZlbnQudGFyZ2V0JywgJyRldmVudC50YXJnZXQudmFsdWUnXSlcbiAgb25JbnB1dCAoZWw6IGFueSwgdmFsdWU6IHN0cmluZyk6IHZvaWQge1xuXG4gICAgaWYgKCF0aGlzLnVwcGVyQ2FzZSAmJiAnZnVuY3Rpb24nID09PSB0eXBlb2YgdmFsdWUudG9VcHBlckNhc2UgJiYgdmFsdWUudG9VcHBlckNhc2UoKSAhPT0gdmFsdWUpIHtcblxuICAgICAgbGV0IHsgc3RhcnQsIGVuZCB9ID0gdGhpcy5nZXRDYXJldChlbCk7XG5cbiAgICAgIGlmICh2YWx1ZVswXSA9PT0gJyAnICYmIHN0YXJ0ID09PSAxICYmIGVuZCA9PT0gMSkge1xuXG4gICAgICAgIHN0YXJ0ID0gMDtcbiAgICAgICAgZW5kID0gMDtcblxuICAgICAgfVxuXG4gICAgICB0aGlzLmNvbnZlcnRWYWx1ZShlbCwgdmFsdWUpO1xuXG4gICAgICB0aGlzLnNldENhcmV0KGVsLCBzdGFydCwgZW5kKTtcblxuICAgIH1cblxuICB9XG5cbn1cbiJdfQ==